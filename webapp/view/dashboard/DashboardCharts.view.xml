<!DOCTYPE xml>
<mvc:View
	controllerName="trading-cockpit-frontend.controller.dashboard.DashboardCharts"
	displayBlock="true"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	xmlns:u="sap.ui.unified"
	xmlns:core="sap.ui.core">
	
	<Page title="{i18n>dashboardCharts.header}">
		<content>
			<VBox class="sapUiSmallMarginBegin">
				<!-- Selection of type and instrument or list. -->
				<FlexBox class="sapUiSmallMarginBegin" alignItems="Center" justifyContent="Start">
					<Label text="{i18n>dashboardCharts.type}" class="sapUiSmallMarginEnd"/>
					<ComboBox id="typeComboBox" required="true" selectionChange=".onTypeSelectionChange"/>
					<Button icon="sap-icon://hint" type="Transparent" tooltip="{i18n>dashboardCharts.typeTooltip}" 
						press=".onChartInformationPressed"/>
					
					<!-- Additional UI elements that are used depending on the selected chart type. -->
					<!-- Lists for example can be selected when determining A/D number and instruments above SMA(50) -->
					<Label id="listLabel" text="{i18n>dashboardCharts.list}" class="sapUiMediumMarginBegin sapUiSmallMarginEnd" visible="false"/>
					<ComboBox id="listComboBox" items="{path: 'lists>/list/'}" required="false" visible="false">
						<core:Item key="{lists>id}" text="{lists>id} - {lists>name}"/>
					</ComboBox>
					
					<!-- Instruments for example can be selected when determining Distribution Days or Follow-Through Days -->
					<Label id="instrumentLabel" text="{i18n>dashboardCharts.instrument}" 
						class="sapUiMediumMarginBegin sapUiSmallMarginEnd" visible="false"/>
					<ComboBox id="instrumentComboBox" items="{path: 'instruments>/instrument/'}" required="false" visible="false"
						selectionChange=".onInstrumentSelectionChange">
						
						<core:Item key="{instruments>id}" text="{instruments>symbol} - {instruments>name}"/>
					</ComboBox>
				</FlexBox>
				
				<!-- Additional configuration of the price volume chart. -->
				<IconTabBar	id="priceVolumeIconTabBar" class="sapUiResponsiveContentPadding">
					<items>
						<IconTabFilter text="{i18n>dashboardCharts.tabPrice}" key="price">
							<CheckBox id="ema21CheckBox" text="{i18n>dashboardCharts.ema21}"/>
							<CheckBox id="sma50CheckBox" text="{i18n>dashboardCharts.sma50}" selected="true"/>
							<CheckBox id="sma150CheckBox" text="{i18n>dashboardCharts.sma150}" selected="true"/>
							<CheckBox id="sma200CheckBox" text="{i18n>dashboardCharts.sma200}" selected="true"/>
						</IconTabFilter>
						
						<IconTabFilter text="{i18n>dashboardCharts.tabVolume}" key="volume">
							<CheckBox id="volumeCheckBox" text="{i18n>dashboardCharts.withVolume}" selected="true" select=".onVolumeCheckBoxSelect"/>
							<CheckBox id="sma30VolumeCheckBox" text="{i18n>dashboardCharts.sma30Volume}" selected="true"/>
						</IconTabFilter>
						
						<IconTabFilter text="{i18n>dashboardCharts.tabIndicators}" key="indicators">
							<FlexBox alignItems="Center">
								<Label text="{i18n>dashboardCharts.indicator}" class="sapUiSmallMarginEnd"/>
								<ComboBox id="indicatorComboBox" selectedKey="NONE" selectionChange=".onIndicatorSelectionChange"/>
								<Label id="rsInstrumentLabel" text="{i18n>dashboardCharts.rsInstrument}"
									class="sapUiMediumMarginBegin sapUiSmallMarginEnd" visible="false"/>
								<ComboBox id="rsInstrumentComboBox" items="{path: 'instruments>/instrument/'}" required="true" visible="false">
									<core:Item key="{instruments>id}" text="{instruments>symbol} - {instruments>name}"/>
								</ComboBox>
							</FlexBox>
						</IconTabFilter>
						
						<IconTabFilter text="{i18n>dashboardCharts.tabChartAnalysis}" key="chartAnalysis">
							<Button id="addButton" text="{i18n>dashboardCharts.buttonAddText}" press=".onAddObjectPressed"/>
						</IconTabFilter>
					</items>
				</IconTabBar>
			
				<Button text="{i18n>button.refresh}" press=".onRefreshPressed" class="sapUiSmallMargin"/>
			</VBox>
			
			<ScrollContainer>
				<Image id="chartImage" error=".onChartImageError"/>
			</ScrollContainer>
		</content>
	</Page>
</mvc:View>